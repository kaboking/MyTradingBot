name: ğŸš€ Hammo-Ultimate-Engine

on:
  workflow_dispatch: # ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ Ø¨Ø¶ØºØ·Ø© Ø²Ø±
  schedule:
    - cron: '*/5 * * * *' # ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚

jobs:
  trading_process:
    runs-on: ubuntu-latest
    
    steps:
      # 1. Ø³Ø­Ø¨ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
      - name: ğŸ“‚ Checkout Repository
        uses: actions/checkout@v4

      # 2. ØªØ¬Ù‡ÙŠØ² Ù„ØºØ© Ø¨Ø§ÙŠØ«ÙˆÙ†
      - name: ğŸ Setup Python Environment
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      # 3. ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø© (Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª)
      - name: ğŸ“¦ Install Requirements
        run: |
          pip install ccxt python-telegram-bot

      # 4. ØªØ´ØºÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© (Ø¨Ø¯ÙˆÙ† ØªÙ„ÙŠØ¬Ø±Ø§Ù…)
      - name: ğŸ“ˆ Executing Trade Strategy
        run: python trade_logic.py

      # 5. ØªØ´ØºÙŠÙ„ Ù…Ù„Ù Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… (Ù…Ù†ÙØµÙ„ ØªÙ…Ø§Ù…Ø§Ù‹)
      - name: ğŸ“± Sending Telegram Notification
        env:
          TG_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
          TG_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
        run: python telegram_bot.py
